# üöÄ Srecha Invoice System - Production (–ë–ï–ó Docker)

–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç–∞–º–∏ –∏ –Ω–∞–∫–ª–∞–¥–Ω—ã–º–∏ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π.
**–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –±–µ–∑ Docker** - –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∫–∞–∫ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã.

## üìã –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
```bash
chmod +x deploy-without-docker.sh
sudo ./deploy-without-docker.sh
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL
```bash
chmod +x setup-ssl.sh
sudo ./setup-ssl.sh
```

### 3. –î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://–≤–∞—à-–¥–æ–º–µ–Ω.com`

## üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

–°–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª `DEPLOYMENT_INSTRUCTIONS.md` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é.

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
‚îú‚îÄ‚îÄ index.html                      # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (SPA)
‚îú‚îÄ‚îÄ deploy-without-docker.sh        # –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è (–ë–ï–ó Docker)
‚îú‚îÄ‚îÄ setup-ssl.sh                    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
‚îú‚îÄ‚îÄ nginx.conf                      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏
‚îú‚îÄ‚îÄ srecha-invoice.service          # Systemd —Å–µ—Ä–≤–∏—Å
‚îú‚îÄ‚îÄ env.production                  # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ DEPLOYMENT_INSTRUCTIONS.md      # –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
‚îú‚îÄ‚îÄ SERVER_MANAGEMENT.md            # –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é
‚îî‚îÄ‚îÄ server.js                       # Node.js —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **Node.js 18.x** - Backend API —Å–µ—Ä–≤–µ—Ä
- **PostgreSQL** - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Nginx** - Reverse proxy –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
- **Systemd** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- **Let's Encrypt** - SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

**–ë–µ–∑ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤** - –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã.

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
```bash
sudo systemctl status srecha-invoice nginx postgresql
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
sudo journalctl -u srecha-invoice -f
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
```bash
sudo systemctl restart srecha-invoice
```

### –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è
```bash
sudo /opt/srecha/backup.sh
```

## üìÅ –í–∞–∂–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

- `/opt/srecha/app/` - –ö–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `/opt/srecha/uploads/` - –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `/opt/srecha/logs/` - –õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã
- `/opt/srecha/ssl/` - SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- `/opt/srecha/backups/` - –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
- `/opt/srecha/web/` - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `sudo journalctl -u srecha-invoice -n 50`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É: `sudo systemctl restart srecha-invoice`
3. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é: `sudo /opt/srecha/backup.sh`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `curl http://localhost:3000/health`

–î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Å–º. `SERVER_MANAGEMENT.md`

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ –ø–∞—Ä–æ–ª–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (UFW)
- –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º `srecha`
- Systemd security features –≤–∫–ª—é—á–µ–Ω—ã

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å–∞–º —Å–∏—Å—Ç–µ–º—ã (–±–µ–∑ Docker overhead)
- PostgreSQL connection pooling
- Nginx –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–∂–∞—Ç–∏–µ
- Systemd resource limits
- PM2 –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è production (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å Docker

–ï—Å–ª–∏ —É –≤–∞—Å –±—ã–ª–∞ Docker –≤–µ—Ä—Å–∏—è:
1. –°–¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø –¥–∞–Ω–Ω—ã—Ö
2. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `deploy-without-docker.sh`
4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –±—ç–∫–∞–ø–∞
